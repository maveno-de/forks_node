#!/bin/bash


WALLET_USER_BASEDIR={{ mavenoLibraryDirectory }}

kickWallet() {

    blockRequests=$(cat "${WALLET_USER_BASEDIR}/${1}/.${2}/mainnet/log/debug.log" | tail -5 | grep 'Requesting blocks' | wc -l)

    if [[ "${blockRequests}" -gt 4 ]]; then
        sudo su - "${1}" -c "docker restart ${2}"
    fi
}

# Usage:
#
# kickWallet <forkUsername> <walletIdentifier>
#
#

