---


# Components

forksComponentIdentifier: >-
  {{ forksComponentItem.identifier }}

forksNodeForkIdentifier: >-
  {{ forksComponentItem.fork }}


forksComponentService: >-
  {{ ('component' in forksComponentItem)
  | ternary(forksComponentItem.component, 'node') }}
forksComponentBuildOption: >-
  {{ ('build' in forksComponentItem)
  | ternary(forksComponentItem.build, 'git') }}
forksComponentEnabled: >-
  {{ ('enabled' in forksComponentItem)
  | ternary(forksComponentItem.enabled, true) }}
forksConfigurationDirectory: >-
  {{ forksNodeHomeDirectory }}/{{ ('configDirectory' in forksComponentItem)
  | ternary(forksComponentItem['configDirectory']|default(''), '.'+forksNodeForkIdentifier) }}

#forksNodeSystemUsername: >-
#  {{ (forksParameters is defined
#  and forksNodeForkIdentifier in forksParameters
#  and 'systemUsername' in forksParameters[forksNodeForkIdentifier])
#  | ternary(forksParameters[forksNodeForkIdentifier]['systemUsername'], forksNodeForkIdentifier) }}

#forksNodeHomeDirectory: >-
#  {{ (forksParameters is defined
#  and forksNodeForkIdentifier in forksParameters
#  and 'homeDirectory' in forksParameters[forksNodeForkIdentifier])
#  | ternary(forksParameters[forksNodeForkIdentifier]['homeDirectory'], 
#  forksUserRootDirectory + '/' + forksNodeSystemUsername) }}

forksNodeSystemUsername: >-
  {{ ('username' in forksComponentItem)
  | ternary(forksComponentItem['username']|default(''),
  forksComponentItem['identifier']) }}

forksNodeHomeDirectory: >-
  {{ ('home' in forksComponentItem)
  | ternary(forksComponentItem['home'],
  ('username' in forksComponentItem)
  | ternary(forksUserRootDirectory + '/' + forksComponentItem['username'],
  forksUserRootDirectory + '/' + forksComponentItem['identifier'] )) }}

forksNodeServiceName: >-
  {{ ('serviceName' in forksComponentItem)
  | ternary(forksComponentItem['serviceName'],
  forksComponentItem['identifier']) }}

forksNodeServices: >-
  {{ ('services' in forksComponentItem)
  | ternary(forksComponentItem['services'],
  ['node'] ) }}

# Params

forksNodeRepositoryIdentifier: >-
  {{ forksRepositoryIdentifierLookupTable[forksNodeForkIdentifier] }}
forksNodeApplicationDirectoryName: >-
  {{ forksNodeRepositoryIdentifier
  | regex_search('[^/]+$') }}

forksNodeBinaryDirectory: >-
  {{ forksNodeHomeDirectory }}/.local/bin
forksNodeSharedDirectory: >-
  {{ forksNodeHomeDirectory }}/.local/share
forksNodeApplicationDirectory: >-
  {{ forksNodeSharedDirectory }}/{{ forksNodeApplicationDirectoryName }}

forksNodeEnabled: >-
  {{ (forksParameters is defined
  and forksNodeForkIdentifier in forksParameters
  and 'enabled' in forksParameters[forksNodeForkIdentifier])
  | ternary(forksParameters[forksNodeForkIdentifier]['enabled'], true) }}
forksNodeExecutableName: >-
  {{ (forksParameters is defined
  and forksNodeForkIdentifier in forksParameters
  and 'executableName' in forksParameters[forksNodeForkIdentifier])
  | ternary(forksParameters[forksNodeForkIdentifier]['executableName'], forksNodeForkIdentifier) }}
forksNodePermissionsFix: >-
  {{ (forksParameters is defined
  and forksNodeForkIdentifier in forksParameters
  and 'permissionsFix' in forksParameters[forksNodeForkIdentifier])
  | ternary(forksParameters[forksNodeForkIdentifier]['permissionsFix'], false) }}
forksNodeDefaultBranch: >-
  {{ (forksParameters is defined
  and forksNodeForkIdentifier in forksParameters
  and 'defaultBranch' in forksParameters[forksNodeForkIdentifier])
  | ternary(forksParameters[forksNodeForkIdentifier]['defaultBranch'], forksDefaultBranch) }}
forksNodePipInstallation: >-
  {{ (forksParameters is defined
  and forksNodeForkIdentifier in forksParameters
  and 'pipInstallation' in forksParameters[forksNodeForkIdentifier])
  | ternary(forksParameters[forksNodeForkIdentifier]['pipInstallation'], false) }}
forksNodeEnvironmentVariables: >-
  {{ (forksParameters is defined
  and forksNodeForkIdentifier in forksParameters
  and 'environmentVariables' in forksParameters[forksNodeForkIdentifier])
  | ternary(forksParameters[forksNodeForkIdentifier]['environmentVariables'], []) }}

forksArchitectureLookupTable:
  arm64: arm64
  armhf: arm64
  amd64: amd64

forksPlatformLookupTable:
  arm64: linux/arm64/v8
  armhf: linux/arm64/v8
  amd64: linux/amd64

forksLogAnalyzerArchitectureLookupTable:
  amd64: amd64
  armhf: arm
  arm64: arm

forksRepositoryIdentifierLookupTable:
  chia: Chia-Network/chia-blockchain
  chives: HiveProject2021/chives-blockchain
  hddcoin: HDDcoin-Network/hddcoin-blockchain
  silicoin: zcomputerwiz/silicoin-blockchain
  ecostake: Ecostake-Network/ecostake-blockchain
  stai: STATION-I/stai-blockchain
  flax: Flax-Network/flax-blockchain

forksPortLookupTable:
  chia:
    node: 8444
    nodeRpc: 8555
    farmer: 8447
  chives:
    node: 9699
    nodeRpc: 9755
    farmer: 9647
  hddcoin:
    node: 28444
    nodeRpc: 28555
    farmer: 28447
  silicoin:
    node: 22222
    nodeRpc: 22555
    farmer: 22447
  ecostake:
    node: 38444
    nodeRpc: 38554
    farmer: 38441
  stai:
    node: 1999
    nodeRpc: 1758
    farmer: 1692
  flax:
    node: 6888
    nodeRpc: 6755
    farmer: 6885

forksPublishedPortsLookupTable:
  all:
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}"
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}"
  node:
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}"
  farmer:
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}"
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}"
  farmer-no-wallet:
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['node'] }}"
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}"
  farmer-only:
    - "{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}:{{ forksPortLookupTable[forksNodeForkIdentifier]['farmer'] }}"
  wallet: []
  wallet-only: []


...
